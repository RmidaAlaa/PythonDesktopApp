<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AWG Kumulus ‚Äì Manuel Utilisateur Complet (Fran√ßais)</title>
    <style>
      body { font-family: system-ui, Arial, sans-serif; max-width: 980px; margin: 24px auto; line-height: 1.7; padding: 0 16px; }
      header { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom: 24px; }
      h1 { margin: 0; color: #0069c2; }
      h2 { margin-top: 32px; margin-bottom: 16px; color: #0069c2; border-bottom: 2px solid #e0e0e0; padding-bottom: 8px; }
      h3 { margin-top: 24px; margin-bottom: 12px; color: #333; }
      h4 { margin-top: 16px; margin-bottom: 8px; color: #555; }
      nav { margin: 16px 0; background: #f8f9fa; padding: 16px; border-radius: 8px; }
      nav a { margin-right: 10px; text-decoration:none; color:#0069c2; display: inline-block; margin-bottom: 4px; }
      nav a:hover { text-decoration: underline; }
      .callout { background: #f4f7ff; border-left: 4px solid #0069c2; padding: 12px 16px; border-radius: 6px; margin: 16px 0; }
      .warning { background: #fff3cd; border-left: 4px solid #ffc107; padding: 12px 16px; border-radius: 6px; margin: 16px 0; }
      .info { background: #d1ecf1; border-left: 4px solid #17a2b8; padding: 12px 16px; border-radius: 6px; margin: 16px 0; }
      code, kbd { background: #f1f1f1; border-radius: 4px; padding: 2px 6px; font-family: 'Courier New', monospace; }
      pre { background: #f5f5f5; padding: 12px; border-radius: 6px; overflow-x: auto; border-left: 3px solid #0069c2; }
      ul, ol { margin-top: 8px; margin-bottom: 16px; }
      li { margin: 6px 0; }
      .step { margin: 12px 0; padding: 8px; background: #f8f9fa; border-radius: 4px; }
      .step-number { font-weight: bold; color: #0069c2; }
      .toc { columns: 2; column-gap: 20px; }
      .muted { color:#666; font-style: italic; }
      select { padding:6px 10px; border-radius: 4px; border: 1px solid #ccc; }
      table { width: 100%; border-collapse: collapse; margin: 16px 0; }
      table th, table td { border: 1px solid #ddd; padding: 8px 12px; text-align: left; }
      table th { background: #0069c2; color: white; font-weight: bold; }
      table tr:nth-child(even) { background: #f8f9fa; }
      .config-example { background: #f5f5f5; padding: 12px; border-radius: 6px; margin: 12px 0; font-family: monospace; font-size: 0.9em; }
      .feature-box { border: 1px solid #ddd; border-radius: 6px; padding: 16px; margin: 16px 0; background: #fafafa; }
      .feature-box h4 { margin-top: 0; color: #0069c2; }
    </style>
    <script>
      function changeLang(sel){
        const v = sel.value;
        if(v==='en') window.location.href = 'user_manual_en.html';
      }
    </script>
  </head>
  <body>
    <header>
      <h1>Gestionnaire d'Appareils AWG Kumulus ‚Äì Manuel Utilisateur Complet</h1>
      <div>
        <label for="lang">Langue :</label>
        <select id="lang" onchange="changeLang(this)">
          <option value="en">English</option>
          <option value="fr" selected>Fran√ßais</option>
        </select>
      </div>
    </header>

    <div class="callout">
        <strong>Bienvenue !</strong> Ce manuel complet couvre toutes les fonctionnalit√©s, configurations et processus du Gestionnaire d'Appareils AWG Kumulus. Suivez les instructions √©tape par √©tape pour utiliser l'application efficacement.
    </div>

    <nav class="toc">
      <a href="#getting-started">Pour bien commencer</a>
      <a href="#requirements">Configuration requise</a>
      <a href="#installation">Installation et configuration</a>
      <a href="#first-run">Premi√®re ex√©cution et initialisation</a>
      <a href="#quick-tour">Visite guid√©e interactive</a>
      <a href="#interface">Vue d'ensemble de l'interface utilisateur</a>
      <a href="#device-detection">D√©tection des appareils</a>
      <a href="#device-management">Gestion des appareils</a>
      <a href="#firmware-management">Gestion du firmware</a>
      <a href="#report-generation">G√©n√©ration de rapports</a>
      <a href="#email-config">Configuration e-mail</a>
      <a href="#onedrive-config">Int√©gration OneDrive</a>
      <a href="#machine-types">Configuration des types de machines</a>
      <a href="#theme-language">Param√®tres th√®me et langue</a>
      <a href="#stm32-ide">Int√©gration IDE STM32</a>
      <a href="#system-info">Informations syst√®me</a>
      <a href="#config-reference">R√©f√©rence de configuration</a>
      <a href="#troubleshooting">D√©pannage</a>
      <a href="#advanced">Fonctionnalit√©s avanc√©es</a>
    </nav>

    <h2 id="getting-started">Pour bien commencer</h2>
      <p>Le Gestionnaire d'Appareils AWG Kumulus est une application de bureau ax√©e sur la gestion des appareils STM32 : d√©tection, chargement/lecture des UID, flash du firmware, g√©n√©ration de rapports, et export/envoi des r√©sultats (E-mail/OneDrive). Ce manuel fournit des instructions d√©taill√©es pour toutes les fonctionnalit√©s et configurations.</p>

    <h2 id="requirements">Configuration requise</h2>
    <div class="feature-box">
      <h4>Exigences minimales</h4>
      <ul>
        <li><strong>Syst√®me d'exploitation :</strong> Windows 10/11 (x64), Linux, ou macOS</li>
        <li><strong>Espace disque :</strong> ~200 MB pour l'application, plus de l'espace pour les journaux et rapports</li>
        <li><strong>M√©moire :</strong> 512 MB RAM minimum</li>
        <li><strong>Port USB :</strong> Pour connecter les appareils embarqu√©s</li>
        <li><strong>Connexion Internet :</strong> Requise pour la configuration initiale, les t√©l√©chargements de firmware et les fonctionnalit√©s e-mail</li>
      </ul>
    </div>

    <div class="feature-box">
      <h4>Exigences optionnelles</h4>
      <ul>
        <li><strong>Identifiants SMTP :</strong> Pour l'envoi de rapports par e-mail</li>
        <li><strong>Compte OneDrive :</strong> Pour l'int√©gration du stockage cloud</li>
        <li><strong>STM32CubeIDE :</strong> Pour le d√©veloppement de projets STM32 (optionnel)</li>
        <li><strong>Python 3.11+ :</strong> Pour les builds de d√©veloppement/source</li>
      </ul>
    </div>

    <h2 id="installation">Installation et configuration</h2>
    
    <h3>Installation Windows</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> T√©l√©chargez l'installateur depuis le package de version
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Ex√©cutez le fichier d'installation (.exe)
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Suivez les invites de l'assistant d'installation
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> L'application sera install√©e √† l'emplacement par d√©faut (g√©n√©ralement <code>Program Files</code>)
    </div>

    <h3>Installation Linux</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Extrayez le fichier AppImage ou le package
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Rendez l'AppImage ex√©cutable : <code>chmod +x AWG-Kumulus-Device-Manager.AppImage</code>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Ex√©cutez l'application : <code>./AWG-Kumulus-Device-Manager.AppImage</code>
    </div>
    <div class="warning">
      <strong>Note:</strong> Sur Linux, vous devrez peut-√™tre ajouter votre utilisateur au groupe <code>dialout</code> pour l'acc√®s USB :
      <pre>sudo usermod -a -G dialout $USER</pre>
      D√©connectez-vous et reconnectez-vous pour que les modifications prennent effet.
    </div>

    <h3>Installation macOS</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> T√©l√©chargez le bundle .app
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> D√©placez le .app dans votre dossier Applications
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Clic droit et s√©lectionnez "Ouvrir" (premi√®re fois uniquement, pour contourner Gatekeeper)
    </div>

    <h2 id="first-run">Premi√®re ex√©cution et initialisation</h2>
    
    <h3>Fen√™tre de premi√®re ex√©cution</h3>
    <p>Lors du premier lancement, l'application va :</p>
    <ol>
      <li>Afficher une fen√™tre de bienvenue avec des options pour ouvrir :
        <ul>
          <li><strong>README.md</strong> - Vue d'ensemble et informations du projet</li>
          <li><strong>USAGE.md</strong> - Directives d'utilisation</li>
          <li><strong>User Manual</strong> - Ce manuel complet</li>
        </ul>
      </li>
      <li>V√©rifier les outils d'aide requis et les packages Python</li>
      <li>Cr√©er les r√©pertoires n√©cessaires :
        <ul>
          <li><strong>Windows:</strong> <code>%APPDATA%\AWG-Kumulus\</code></li>
          <li><strong>Linux:</strong> <code>~/.local/share/awg-kumulus/</code></li>
          <li><strong>macOS:</strong> <code>~/Library/Application Support/AWG-Kumulus/</code></li>
        </ul>
      </li>
      <li>T√©l√©charger les binaires d'aide si n√©cessaire (dfu-util, STM32CubeProgrammer)</li>
    </ol>

    <h3>Processus d'initialisation</h3>
    <div class="info">
      <strong>Configuration automatique :</strong> Le gestionnaire d'initialisation configure automatiquement :
      <ul>
        <li>V√©rifie les packages Python requis (pyserial, pyusb, openpyxl, requests, keyring, PySide6)</li>
        <li>V√©rifie la disponibilit√© des outils sp√©cifiques √† la plateforme</li>
        <li>T√©l√©charge les binaires d'aide manquants vers le r√©pertoire des outils</li>
        <li>Configure les fichiers de configuration avec les valeurs par d√©faut</li>
      </ul>
    </div>

    <h3>Outils d'aide</h3>
    <p>L'application utilise les outils d'aide suivants (t√©l√©charg√©s automatiquement) :</p>
    <table>
      <tr>
        <th>Outil</th>
        <th>Objectif</th>
        <th>Plateforme</th>
      </tr>
      <tr>
        <td>dfu-util</td>
        <td>Flash STM32 en mode DFU</td>
        <td>Tous</td>
      </tr>
      <tr>
        <td>STM32CubeProgrammer</td>
        <td>Flash et programmation STM32</td>
        <td>Tous</td>
      </tr>
    </table>

    <h2 id="quick-tour">Visite guid√©e interactive</h2>
    <p>L'application propose une visite guid√©e interactive pour vous aider √† prendre en main l'interface.</p>
    <div class="feature-box">
      <h4>Fonctionnalit√©s de la visite</h4>
      <ul>
        <li><strong>Lancement automatique :</strong> la visite se lance automatiquement lors du premier usage.</li>
        <li><strong>Couverture :</strong> elle met en √©vidence les boutons d‚Äôaction (Actualiser, Historique, Envoyer e-mail, Flasher, Lire UID, Param√®tres) et les zones principales de l‚Äôinterface.</li>
        <li><strong>Relancer √† tout moment :</strong> utilisez le bouton <strong>Visite rapide</strong> / <strong>Quick Tour</strong> si disponible dans l‚Äôinterface.</li>
      </ul>
    </div>

    <h2 id="interface">Vue d'ensemble de l'interface utilisateur</h2>
    
    <h3>Disposition de la fen√™tre principale</h3>
    <p>La fen√™tre principale se compose de :</p>
    <ul>
      <li><strong>Panneau gauche :</strong> Tableau de liste des appareils affichant tous les appareils connect√©s</li>
      <li><strong>Panneau droit :</strong> Panneau de contr√¥le avec onglets pour :
        <ul>
          <li>Informations sur l'appareil</li>
          <li>G√©n√©ration de rapports</li>
          <li>Gestion du firmware</li>
          <li>Param√®tres</li>
        </ul>
      </li>
      <li><strong>Barre d'√©tat (pied de page) :</strong>
        <ul>
          <li>Gauche : Appareils connect√©s/d√©connect√©s/total</li>
          <li>Centre : Date/heure, fuseau horaire et localisation</li>
          <li>Droite : Indicateur d‚Äô√©tat OneDrive</li>
        </ul>
      </li>
    </ul>
    <div class="info">
      <strong>Taille de la fen√™tre :</strong> Au d√©marrage, l‚Äôapplication s‚Äôouvre en utilisant la zone disponible de votre √©cran.
    </div>
    <div class="info">
      <strong>Informations op√©rateur :</strong> Le formulaire utilise l‚Äô√©tiquette ¬´‚ÄØNom complet‚ÄØ¬ª et n‚Äôinclut plus de champ ¬´‚ÄØNom de famille‚ÄØ¬ª s√©par√©.
    </div>

    <h3>Barre de menu</h3>
    <ul>
      <li><strong>Fichier :</strong> Quitter l'application</li>
      <li><strong>Param√®tres:</strong> Acc√©der √† toutes les options de configuration</li>
      <li><strong>Aide :</strong> Ouvrir le manuel utilisateur, dialogue √† propos</li>
    </ul>

    <h2 id="device-detection">D√©tection des appareils</h2>
    
    <h3>Types de cartes pris en charge</h3>
    <table>
      <tr>
        <th>Type de carte</th>
        <th>Exemples VID:PID</th>
        <th>M√©thode de d√©tection</th>
      </tr>
      <tr>
        <td>STM32</td>
        <td>0x0483:0x5740, 0x0483:0x3748</td>
        <td>Correspondance VID:PID, communication s√©rie</td>
      </tr>
      <tr>
        <td>Inconnu</td>
        <td>N/A</td>
        <td>Affich√© lorsque l‚Äôappareil ne correspond pas aux VID:PID STM32 connus</td>
      </tr>
    </table>
    
    <h3>Lecture de l‚ÄôUID du microcontr√¥leur</h3>
    <p>Pour lire l‚ÄôUID‚ÄØ:</p>
    <ol>
      <li>S√©lectionnez la ligne d‚Äôun appareil pour afficher ses d√©tails dans le panneau de droite.</li>
      <li>Pour charger l‚ÄôUID depuis la carte (si n√©cessaire), cochez la case ¬´‚ÄØCharger l‚ÄôUID depuis la carte‚ÄØ¬ª. Cela flashe le firmware d‚Äôaide (GetMachineUid.bin) et met √† jour les informations.</li>
      <li>Cliquez sur <strong>Lire l‚ÄôUID</strong> pour ouvrir <strong>UID &amp; Informations de l‚Äôappareil</strong>. Pour STM32, cette fen√™tre peut aussi proposer un bouton <strong>Read UID</strong>.</li>
    </ol>
    <div class="info">
      <strong>Auto-flash :</strong> si activ√©, l‚Äôapplication peut flasher automatiquement le firmware d‚Äôaide √† la connexion.
    </div>

    <h3>D√©tection manuelle des appareils</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Connectez votre appareil via un c√¢ble USB
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur le bouton <strong>"Actualiser les appareils"</strong> dans le panneau des appareils
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Attendez que le scan soit termin√© (g√©n√©ralement 2-5 secondes)
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Les appareils d√©tect√©s appara√Ætront dans le tableau des appareils
    </div>

    <h3>Surveillance automatique des appareils</h3>
    <p>L'application inclut une surveillance en temps r√©el des appareils qui :</p>
    <ul>
      <li>D√©tecte automatiquement quand les appareils sont connect√©s (hotplug)</li>
      <li>D√©tecte quand les appareils sont d√©connect√©s</li>
      <li>Met √† jour la liste des appareils toutes les 5 secondes</li>
      <li>Maintient l'historique des appareils entre les sessions</li>
      <li>Suit le nombre de connexions et les horodatages de derni√®re d√©tection</li>
    </ul>
    <div class="info">
      <strong>Note:</strong> La surveillance en temps r√©el est activ√©e par d√©faut. Vous pouvez voir les √©v√©nements de connexion/d√©connexion dans la zone de journal.
    </div>

    <h3>Informations sur l'appareil</h3>
    <p>Pour chaque appareil d√©tect√©, les informations suivantes sont affich√©es :</p>
    <ul>
      <li><strong>Port :</strong> Identifiant du port s√©rie (par ex. COM3, /dev/ttyUSB0)</li>
      <li><strong>Type :</strong> Type de carte (STM32 ou Inconnu)</li>
      <li><strong>VID:PID :</strong> ID du fabricant et ID du produit en hexad√©cimal</li>
      <li><strong>Statut :</strong> Statut de connexion (Connect√©/D√©connect√©)</li>
      <li><strong>Sant√© :</strong> Score de sant√© (0-100) bas√© sur la stabilit√© de la connexion et l'exhaustivit√© des informations</li>
      <li><strong>Nom :</strong> Nom personnalis√© ou nom par d√©faut</li>
      <li><strong>Derni√®re vue :</strong> Horodatage de la derni√®re d√©tection</li>
    </ul>

    <h3>Informations d√©taill√©es sur l'appareil</h3>
    <p>Lorsque vous s√©lectionnez un appareil, des informations d√©taill√©es sont affich√©es :</p>
    <ul>
      <li><strong>UID :</strong> Identifiant unique de l'appareil</li>
      <li><strong>ID de puce :</strong> Identifiant de puce (peut √™tre N/A)</li>
      <li><strong>Adresse MAC :</strong> Adresse MAC (peut √™tre N/A)</li>
      <li><strong>Fabricant :</strong> Fabricant de l'appareil</li>
      <li><strong>Num√©ro de s√©rie :</strong> Num√©ro de s√©rie de l'appareil</li>
      <li><strong>Version du firmware :</strong> Version actuelle du firmware</li>
      <li><strong>Version mat√©rielle :</strong> R√©vision mat√©rielle</li>
      <li><strong>Taille de la m√©moire flash :</strong> Taille de la m√©moire flash</li>
      <li><strong>Fr√©quence CPU :</strong> Fr√©quence du processeur</li>
    </ul>

    <h2 id="device-management">Gestion des appareils</h2>
    
    <h3>Historique des appareils</h3>
    <p>L'application maintient un historique de tous les appareils qui ont √©t√© connect√©s :</p>
    <ul>
      <li>L'historique est stock√© dans <code>device_history.json</code> dans le r√©pertoire de donn√©es de l'application</li>
      <li>Chaque entr√©e d'appareil inclut :
        <ul>
          <li>Horodatage de premi√®re d√©tection</li>
          <li>Horodatage de derni√®re vue</li>
          <li>Nombre de connexions</li>
          <li>Nom personnalis√© et √©tiquettes</li>
          <li>Notes</li>
        </ul>
      </li>
      <li>L'historique persiste entre les red√©marrages de l'application</li>
    </ul>

    <h3>Recherche d'appareils</h3>
    <p>La fonctionnalit√© de recherche vous permet de trouver des appareils par :</p>
    <ul>
      <li>Nom personnalis√©</li>
      <li>Fabricant</li>
      <li>Description</li>
      <li>√âtiquettes</li>
      <li>Notes</li>
    </ul>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Cliquez sur le bouton "Rechercher des appareils"
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Entrez votre requ√™te de recherche
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Les r√©sultats sont filtr√©s en temps r√©el
    </div>

    <h3>Personnalisation des appareils</h3>
    <p>Vous pouvez personnaliser les appareils avec :</p>
    <ul>
      <li><strong>Noms personnalis√©s :</strong> Attribuez des noms conviviaux aux appareils</li>
      <li><strong>√âtiquettes:</strong> Ajoutez des √©tiquettes pour la cat√©gorisation</li>
      <li><strong>Notes:</strong> Ajoutez des notes avec des informations suppl√©mentaires</li>
    </ul>

    <h3>Actions sur l‚Äôappareil</h3>
    <p>Utilisez le menu contextuel (clic droit) de la table des appareils pour :</p>
    <ul>
      <li>Copier la valeur d‚Äôune cellule</li>
      <li>Copier la ligne (CSV)</li>
      <li>Personnaliser l‚Äôappareil</li>
      <li>Voir les sauvegardes de firmware</li>
    </ul>

    <h2 id="firmware-management">Gestion du firmware</h2>
    
    <h3>Sources de firmware</h3>
    <p>L'application prend en charge plusieurs sources de firmware :</p>
    <table>
      <tr>
        <th>Type de source</th>
        <th>Description</th>
        <th>Configuration</th>
      </tr>
      <tr>
        <td>Fichier local</td>
        <td>Fichier de firmware sur votre ordinateur</td>
        <td>Parcourir pour s√©lectionner un fichier .bin ou .elf</td>
      </tr>
      <tr>
        <td>T√©l√©chargement par URL</td>
        <td>Firmware depuis une URL HTTP/HTTPS</td>
        <td>Entrez l'URL, le nom et la version</td>
      </tr>
      <tr>
        <td>Version GitHub</td>
        <td>Firmware depuis les versions GitHub</td>
        <td>D√©p√¥t, √©tiquette de version, nom de l'actif</td>
      </tr>
      <tr>
        <td>Pipeline GitLab</td>
        <td>Firmware depuis les artefacts GitLab CI/CD</td>
        <td>ID du projet, ID du pipeline, nom de l'artefact</td>
      </tr>
    </table>

    <h3>Flash du firmware depuis un fichier local</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> S√©lectionnez l'appareil cible dans la liste des appareils
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur le bouton <strong>"Flasher le firmware"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Choisissez "Fichier local" comme source
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Parcourez et s√©lectionnez votre fichier de firmware (.bin ou .elf)
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Examinez les informations du firmware (nom, version, taille)
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Cliquez sur <strong>"D√©marrer le flash"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 7 :</span> Surveillez la progression dans la zone de journal
    </div>
    <div class="warning">
      <strong>Important:</strong> Assurez-vous que l'appareil est en mode bootloader si n√©cessaire. Certains appareils doivent √™tre mis en mode bootloader manuellement.
    </div>

    <h3>Flash du firmware depuis une URL</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> S√©lectionnez l'appareil cible
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur <strong>"Flasher le firmware"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Choisissez "T√©l√©chargement par URL" comme source
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Entrez l'URL du firmware
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Entrez le nom et la version du firmware
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Cliquez sur <strong>"T√©l√©charger et flasher"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 7 :</span> Attendez que le t√©l√©chargement soit termin√©, puis le flash d√©marrera automatiquement
    </div>

    <h3>Flash depuis une version GitHub</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> S√©lectionnez l'appareil cible
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur <strong>"Flasher le firmware"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Choisissez "Version GitHub" comme source
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Entrez le d√©p√¥t au format : <code>owner/repository</code>
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Sp√©cifiez √©ventuellement l'√©tiquette de version (par d√©faut : derni√®re)
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Sp√©cifiez √©ventuellement le nom de l'actif (par d√©faut : premier fichier .bin/.elf)
    </div>
    <div class="step">
      <span class="step-number">√âtape 7 :</span> Cliquez sur <strong>"Ajouter et flasher"</strong>
    </div>

    <h3>Flash depuis un pipeline GitLab</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> S√©lectionnez l'appareil cible
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur <strong>"Flasher le firmware"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Choisissez "Pipeline GitLab" comme source
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Entrez l'ID du projet GitLab
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Sp√©cifiez √©ventuellement l'ID du pipeline (par d√©faut : dernier r√©ussi)
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Sp√©cifiez √©ventuellement le nom de l'artefact
    </div>
    <div class="step">
      <span class="step-number">√âtape 7 :</span> Cliquez sur <strong>"Ajouter et flasher"</strong>
    </div>

    <h3>Base de donn√©es du firmware</h3>
    <p>L'application maintient une base de donn√©es de firmware qui stocke :</p>
    <ul>
      <li>M√©tadonn√©es du firmware (nom, version, type de carte)</li>
      <li>Informations sur la source (URL, d√©p√¥t, branche)</li>
      <li>Chemins de fichiers et sommes de contr√¥le</li>
      <li>Informations de compatibilit√©</li>
      <li>Notes de version et dates</li>
    </ul>
    <p>Acc√©dez √† la base de donn√©es du firmware depuis Param√®tres ‚Üí Gestionnaire de firmware.</p>

    <h3>Sauvegardes du firmware</h3>
    <p>Avant de flasher un nouveau firmware, l'application peut cr√©er des sauvegardes :</p>
    <ul>
      <li>Les sauvegardes sont stock√©es dans le r√©pertoire <code>firmware_backups/</code></li>
      <li>Chaque sauvegarde inclut :
        <ul>
          <li>Horodatage de la sauvegarde</li>
          <li>Version originale du firmware</li>
          <li>Raison de la sauvegarde (manuel, avant_mise_√†_jour, avant_restauration)</li>
          <li>Fichier de firmware</li>
        </ul>
      </li>
      <li>Les sauvegardes sont organis√©es par ID d'appareil</li>
    </ul>

    <h3>Restauration du firmware</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> S√©lectionnez l'appareil avec le firmware √† restaurer
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Ouvrir le Gestionnaire de firmware depuis les Param√®tres
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Affichez les sauvegardes disponibles
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> S√©lectionnez la sauvegarde √† restaurer
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Cliquez sur <strong>"Restauration"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Confirmez l'op√©ration de restauration
    </div>
    <div class="warning">
      <strong>Note:</strong> Une sauvegarde du firmware actuel sera cr√©√©e avant la restauration.
    </div>

    <h3>Validation du firmware</h3>
    <p>L'application valide le firmware avant le flash :</p>
    <ul>
      <li>V√©rification de la somme de contr√¥le (SHA256)</li>
      <li>V√©rification de la taille du fichier</li>
      <li>Validation du format</li>
      <li>V√©rification de compatibilit√© avec le type de carte de l'appareil</li>
    </ul>

    <h3>Statut du firmware</h3>
    <p>Pour chaque appareil, vous pouvez afficher le statut du firmware :</p>
    <ul>
      <li><strong>Version actuelle :</strong> Version du firmware install√©</li>
      <li><strong>Statut :</strong> Install√©, Disponible, Obsol√®te, Derni√®re, Inconnu</li>
      <li><strong>Mises √† jour disponibles :</strong> Liste des firmware compatibles plus r√©cents</li>
      <li><strong>Derni√®re version :</strong> Version la plus r√©cente du firmware compatible</li>
      <li><strong>Nombre de sauvegardes :</strong> Nombre de sauvegardes disponibles</li>
    </ul>

    <h3>Flash sp√©cifique √† la carte</h3>
    
    <h4>Flash STM32</h4>
    <ul>
      <li>Prend en charge plusieurs m√©thodes :
        <ul>
          <li>STM32CubeProgrammer (pr√©f√©r√©)</li>
          <li>dfu-util (mode DFU)</li>
        </ul>
      </li>
      <li>Prend en charge les formats de fichiers .bin et .elf</li>
      <li>Les fichiers ELF sont automatiquement convertis en binaire</li>
    </ul>

    <h2 id="report-generation">G√©n√©ration de rapports</h2>
    
    <h3>G√©n√©ration de rapport Excel</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> S√©lectionnez les appareils dans la liste des appareils (ou utilisez tous les appareils d√©tect√©s)
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Allez dans le panneau de contr√¥le ‚Üí onglet G√©n√©ration de rapports
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Entrez les informations de l'op√©rateur :
      <ul>
        <li>Nom de l'op√©rateur</li>
        <li>E-mail de l'op√©rateur</li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> S√©lectionnez le type de machine dans le menu d√©roulant (Amphore, BOKs, WaterDispenser)
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Entrez l'ID de la machine (doit correspondre au pr√©fixe et √† la longueur pour le type de machine s√©lectionn√©)
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Cliquez sur <strong>"G√©n√©rer un rapport Excel"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 7 :</span> Le rapport est enregistr√© dans le r√©pertoire de donn√©es de l‚Äôapplication avec un horodatage
    </div>

    <h3>Contenu du rapport</h3>
    <p>Les rapports Excel incluent deux feuilles :</p>
    
    <h4>Feuille de m√©tadonn√©es</h4>
    <ul>
      <li>Horodatage</li>
      <li>Nom et version de l'application</li>
      <li>Nom et e-mail de l'op√©rateur</li>
      <li>Nom du PC et OS</li>
      <li>Informations de plateforme</li>
    </ul>

    <h4>Feuille des appareils</h4>
    <ul>
      <li>Type de machine et ID de machine</li>
      <li>Type de carte</li>
      <li>Port</li>
      <li>VID et PID</li>
      <li>UID, ID de puce, Adresse MAC</li>
      <li>Fabricant et Num√©ro de s√©rie</li>
      <li>Version du firmware et version mat√©rielle</li>
      <li>Taille de la m√©moire flash et fr√©quence CPU</li>
      <li>Horodatage</li>
    </ul>

    <h3>Emplacement du fichier de rapport</h3>
    <p>Les rapports sont enregistr√©s avec le mod√®le de nommage :</p>
    <pre>AWG_Kumulus_Report_YYYYMMDD_HHMMSS.xlsx</pre>
    <p>Emplacement par d√©faut :</p>
    <ul>
      <li><strong>Windows:</strong> <code>%APPDATA%\AWG-Kumulus\</code></li>
      <li><strong>Linux:</strong> <code>~/.local/share/awg-kumulus/</code></li>
      <li><strong>macOS:</strong> <code>~/Library/Application Support/AWG-Kumulus/</code></li>
    </ul>

    <h2 id="email-config">Configuration e-mail</h2>
    
    <h3>Configuration SMTP</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí <strong>Configurer l'e-mail</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Entrez les param√®tres SMTP :
      <ul>
        <li><strong>H√¥te :</strong> Adresse du serveur SMTP (par ex. smtp.gmail.com)</li>
        <li><strong>Port :</strong> Port SMTP (g√©n√©ralement 587 pour TLS, 465 pour SSL)</li>
        <li><strong>TLS :</strong> Activer/d√©sactiver le chiffrement TLS</li>
        <li><strong>Nom d'utilisateur :</strong> Votre adresse e-mail</li>
        <li><strong>Mot de passe :</strong> Votre mot de passe e-mail ou mot de passe sp√©cifique √† l'application</li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Ajoutez les adresses e-mail des destinataires (une par ligne ou s√©par√©es par des virgules)
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Cliquez sur <strong>"Enregistrer"</strong> pour stocker la configuration
    </div>
    <div class="info">
      <strong>Note de s√©curit√© :</strong> Les mots de passe sont stock√©s de mani√®re s√©curis√©e √† l'aide du trousseau du syst√®me d'exploitation (Gestionnaire d'identifiants Windows, Trousseau macOS, Secret Service Linux). Ils ne sont jamais stock√©s en texte clair.
    </div>

    <h3>Param√®tres SMTP courants</h3>
    <table>
      <tr>
        <th>Fournisseur</th>
        <th>H√¥te</th>
        <th>Port</th>
        <th>TLS</th>
      </tr>
      <tr>
        <td>Gmail</td>
        <td>smtp.gmail.com</td>
        <td>587</td>
        <td>Oui</td>
      </tr>
      <tr>
        <td>Outlook</td>
        <td>smtp-mail.outlook.com</td>
        <td>587</td>
        <td>Oui</td>
      </tr>
      <tr>
        <td>Yahoo</td>
        <td>smtp.mail.yahoo.com</td>
        <td>587</td>
        <td>Oui</td>
      </tr>
      <tr>
        <td>Custom</td>
        <td>Votre serveur SMTP</td>
        <td>587 ou 465</td>
        <td>Selon les besoins</td>
      </tr>
    </table>

    <h3>Envoi de rapports par e-mail</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> G√©n√©rez un rapport (voir la section G√©n√©ration de rapports)
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur le bouton <strong>"Envoyer un e-mail"</strong> dans le Panneau de contr√¥le
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Le dernier rapport sera joint √† l'e-mail
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> L'e-mail est envoy√© √† tous les destinataires configur√©s
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> V√©rifiez la zone de journal pour le statut d'envoi
    </div>

    <h3>Fonctionnalit√© Contacter le support</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Aide ‚Üí <strong>Contacter le support</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> D√©crivez votre probl√®me dans le champ de message
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Cochez √©ventuellement "Inclure les journaux" pour joindre les fichiers de journal
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Cliquez sur <strong>"Envoyer"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> L'email est envoy√© au support avec votre message et les journaux optionnels
    </div>
    
    <h3>Configuration Azure (Microsoft Graph)</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí <strong>Configurer l‚Äôe-mail</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> S√©lectionnez <strong>Azure</strong> comme fournisseur et saisissez‚ÄØ:
      <ul>
        <li><strong>Client ID</strong></li>
        <li><strong>Tenant ID</strong></li>
        <li><strong>Client Secret</strong></li>
        <li><strong>Email de l‚Äôexp√©diteur</strong> (doit √™tre une bo√Æte aux lettres utilisateur valide)</li>
      </ul>
      <div class="info">
        <strong>Note :</strong> Veuillez contacter votre administrateur syst√®me pour obtenir l'ID client, l'ID locataire et le secret client. Ces identifiants sont requis pour l'acc√®s √† l'API Azure Graph.
      </div>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Ajoutez les adresses e‚Äëmail des destinataires.
    </div>
    <div class="info">
      <strong>Important :</strong> L‚Äôendpoint Microsoft Graph <code>sendMail</code> requiert un <em>email utilisateur</em> valide. Utiliser un nom d‚Äôapplication ou un ID non associ√© √† une bo√Æte aux lettres entra√Æne une erreur <strong>404 Not Found</strong>.
    </div>
    <div class="info">
      <strong>Validation :</strong> Le test de configuration v√©rifie les champs requis (Client ID, Tenant ID, Client Secret, Email de l‚Äôexp√©diteur) avant envoi.
    </div>

    <h3>File d'attente d'e-mails hors ligne</h3>
    <div class="info">
      <strong>Mode hors ligne :</strong> Si vous √™tes hors ligne lors de l'envoi d'un rapport, l'e-mail est automatiquement ajout√© √† une file d'attente.
    </div>
    <ul>
      <li>Les e-mails sont stock√©s de mani√®re s√©curis√©e jusqu'√† ce que la connexion Internet soit r√©tablie.</li>
      <li>L'application tente automatiquement d'envoyer les e-mails en file d'attente lorsqu'une connexion est d√©tect√©e ou au prochain d√©marrage.</li>
      <li>Si vous essayez de quitter l'application avec des e-mails non envoy√©s, une fen√™tre de confirmation vous avertira.</li>
    </ul>

    <h2 id="onedrive-config">Int√©gration OneDrive</h2>
    
    <h3>Configuration OneDrive</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí <strong>Param√®tres OneDrive</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Activez l'int√©gration OneDrive en cochant la case
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Entrez le chemin du dossier OneDrive de base (par ex. : <code>C:\Users\YourName\OneDrive\AWG-Kumulus</code>)
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Entrez le nom du dossier utilisateur (votre identifiant, par ex. votre nom ou nom d'utilisateur)
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Configurez les options :
      <ul>
        <li><strong>Cr√©ation automatique de dossiers :</strong> Cr√©er automatiquement la structure de dossiers</li>
        <li><strong>Synchronisation activ√©e :</strong> Activer les fonctionnalit√©s de synchronisation</li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Cliquez sur <strong>"Tester la connexion"</strong> pour v√©rifier l'acc√®s
    </div>
    <div class="step">
      <span class="step-number">√âtape 7 :</span> Cliquez sur <strong>"Enregistrer"</strong> pour stocker la configuration
    </div>

    <h3>Structure des dossiers OneDrive</h3>
    <p>L'application cr√©e la structure de dossiers suivante dans OneDrive :</p>
    <pre>
OneDrive/
‚îî‚îÄ‚îÄ [Dossier de base]/
    ‚îî‚îÄ‚îÄ [Dossier utilisateur]/
        ‚îî‚îÄ‚îÄ [Type de machine]/
            ‚îî‚îÄ‚îÄ [Machine ID]/
                ‚îú‚îÄ‚îÄ [Machine ID]_data.json
                ‚îî‚îÄ‚îÄ firmware/
                    ‚îú‚îÄ‚îÄ [timestamp]_[firmware_name].bin
                    ‚îî‚îÄ‚îÄ [timestamp]_firmware_info.json
    </pre>

    <h3>Enregistrement des donn√©es de machine dans OneDrive</h3>
    <p>Les donn√©es de machine sont automatiquement enregistr√©es dans OneDrive lors de :</p>
    <ul>
      <li>G√©n√©ration de rapports (si OneDrive est activ√©)</li>
      <li>Flash du firmware (si configur√©)</li>
      <li>D√©clenchement manuel depuis les Param√®tres</li>
    </ul>

    <h2 id="application-updates">Mises √† jour de l'application</h2>
    <p>L'application inclut un syst√®me de mise √† jour intelligent pour vous garder sur la derni√®re version.</p>

    <h3>V√©rifications automatiques en arri√®re-plan</h3>
    <ul>
      <li>L'application v√©rifie silencieusement les mises √† jour au d√©marrage.</li>
      <li>Si une mise √† jour est trouv√©e, un badge de notification rouge (ex: "1") appara√Æt sur le bouton de mise √† jour en haut √† droite.</li>
      <li>Une notification toast non intrusive appara√Ætra √©galement.</li>
    </ul>

    <h3>Installation en un clic</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Cliquez sur le bouton de mise √† jour avec badge.
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Consultez les notes de version dans la fen√™tre.
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Cliquez sur <strong>"Installer la mise √† jour"</strong>.
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> L'application t√©l√©chargera l'installateur, l'ex√©cutera automatiquement et red√©marrera.
    </div>

    <p>Les donn√©es de machine incluent :</p>
    <ul>
      <li>Informations sur la machine (type, ID, op√©rateur)</li>
      <li>Informations sur les appareils (tous les appareils d√©tect√©s)</li>
      <li>Historique du firmware</li>
      <li>Horodatages et m√©tadonn√©es</li>
    </ul>

    <h3>Stockage du firmware dans OneDrive</h3>
    <p>Les fichiers de firmware peuvent √™tre stock√©s dans OneDrive :</p>
    <ul>
      <li>Les fichiers de firmware sont copi√©s dans le dossier firmware de l'appareil</li>
      <li>Chaque fichier de firmware est horodat√©</li>
      <li>Les m√©tadonn√©es du firmware sont stock√©es au format JSON</li>
      <li>Les noms originaux et stock√©s sont suivis</li>
    </ul>

    <h3>Historique des machines depuis OneDrive</h3>
    <p>Vous pouvez r√©cup√©rer l'historique des machines depuis OneDrive :</p>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí Param√®tres OneDrive
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur <strong>"Afficher l'historique des machines"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> S√©lectionnez le type de machine et l'ID de machine
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Affichez les donn√©es historiques et les informations du firmware
    </div>

    <h2 id="machine-types">Configuration des types de machines</h2>
    
    <h3>Types de machines par d√©faut</h3>
    <p>L'application est livr√©e avec trois types de machines par d√©faut :</p>
    <table>
      <tr>
        <th>Type de machine</th>
        <th>Pr√©fixe</th>
        <th>Longueur</th>
        <th>Exemple</th>
      </tr>
      <tr>
        <td>Amphore</td>
        <td>AMP-</td>
        <td>12</td>
        <td>AMP-12345678</td>
      </tr>
      <tr>
        <td>BOKs</td>
        <td>BOK-</td>
        <td>10</td>
        <td>BOK-123456</td>
      </tr>
      <tr>
        <td>WaterDispenser</td>
        <td>WD-</td>
        <td>14</td>
        <td>WD-1234567890</td>
      </tr>
    </table>

    <h3>Validation de l'ID de machine</h3>
    <p>Les ID de machines sont valid√©s par rapport √† leur configuration de type de machine :</p>
    <ul>
      <li>Doit commencer par le pr√©fixe sp√©cifi√©</li>
      <li>Doit correspondre √† l'exigence de longueur exacte</li>
      <li>La validation se produit lors de la g√©n√©ration de rapports</li>
    </ul>
    <div class="warning">
      <strong>Note:</strong> Les ID de machines invalides emp√™cheront la g√©n√©ration de rapports. Assurez-vous que le format de l'ID correspond aux exigences du type de machine.
    </div>

    <h3>Ajouter des types de machines personnalis√©s</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí <strong>Types de machines</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur <strong>"Ajouter un type de machine"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Entrez :
      <ul>
        <li>Nom du type de machine</li>
        <li>Pr√©fixe (e.g., "CUSTOM-")</li>
        <li>Longueur (caract√®res totaux incluant le pr√©fixe)</li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Cliquez sur <strong>"Enregistrer"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Le nouveau type de machine appara√Æt dans le menu d√©roulant
    </div>

    <h3>Modifier les types de machines</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí Types de machines
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> S√©lectionnez le type de machine √† modifier
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Cliquez sur <strong>"Modifier"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Modifiez le nom, le pr√©fixe ou la longueur
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Cliquez sur <strong>"Enregistrer"</strong>
    </div>

    <h3>Supprimer les types de machines</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí Types de machines
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> S√©lectionnez le type de machine √† supprimer
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Cliquez sur <strong>"Supprimer"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Confirmez la suppression
    </div>
    <div class="warning">
      <strong>Attention :</strong> La suppression d'un type de machine le retirera de la configuration. Les rapports existants utilisant ce type ne seront pas affect√©s.
    </div>

    <h3>Fichier de configuration des types de machines</h3>
    <p>Les types de machines sont stock√©s dans <code>machineTypes.json</code> dans le r√©pertoire de l'application. Vous pouvez √©galement modifier ce fichier directement :</p>
    <div class="config-example">
{
  "Amphore": {
    "prefix": "AMP-",
    "length": 12
  },
  "BOKs": {
    "prefix": "BOK-",
    "length": 10
  },
  "WaterDispenser": {
    "prefix": "WD-",
    "length": 14
  }
}
    </div>

    <h2 id="theme-language">Param√®tres Th√®me & Langue</h2>
    
    <h3>S√©lection du th√®me</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí <strong>Th√®me & Langue</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Dans la section Th√®me, s√©lectionnez un th√®me :
      <ul>
        <li><strong>‚òÄÔ∏è Mode clair :</strong> Sch√©ma de couleurs clair</li>
        <li><strong>üåô Mode sombre :</strong> Sch√©ma de couleurs sombre</li>
        <li><strong>üé® Th√®mes personnalis√©s :</strong> Th√®mes personnalis√©s cr√©√©s par l'utilisateur (le cas √©ch√©ant)</li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Le th√®me est appliqu√© imm√©diatement
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Cliquez sur <strong>"Appliquer la s√©lection"</strong> pour enregistrer la pr√©f√©rence
    </div>

    <h3>Cr√©ation de th√®mes personnalis√©s</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí Th√®me & Langue
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Cliquez sur <strong>"Cr√©er un th√®me personnalis√©"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Entrez le nom et la description du th√®me
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Configurez les couleurs :
      <ul>
        <li>Couleur de la fen√™tre</li>
        <li>Couleur du texte</li>
        <li>Couleur du bouton</li>
        <li>Couleur de surbrillance</li>
        <li>Et plus encore...</li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> Cliquez sur <strong>"Enregistrer le th√®me"</strong>
    </div>
    <div class="step">
      <span class="step-number">√âtape 6 :</span> Le th√®me personnalis√© appara√Æt dans la liste des th√®mes
    </div>

    <h3>S√©lection de la langue</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí Th√®me & Langue
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Dans la section Langue, s√©lectionnez :
      <ul>
        <li><strong>üá∫üá∏ English</strong></li>
        <li><strong>üá´üá∑ Fran√ßais</strong></li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> La langue est appliqu√©e imm√©diatement
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> Cliquez sur <strong>"Appliquer la s√©lection"</strong> pour enregistrer la pr√©f√©rence
    </div>
    <div class="info">
      <strong>Acc√®s rapide :</strong> Vous pouvez √©galement changer la langue depuis le menu d√©roulant de la barre d'√©tat (en bas √† droite).
    </div>

    <h3>Persistance du th√®me et de la langue</h3>
    <p>Vos pr√©f√©rences de th√®me et de langue sont enregistr√©es automatiquement et persistent apr√®s le red√©marrage de l'application. Les param√®tres sont stock√©s dans :</p>
    <ul>
      <li><strong>Th√®mes :</strong> <code>themes.json</code> dans le r√©pertoire de donn√©es de l'application</li>
      <li><strong>Langues :</strong> <code>languages.json</code> dans le r√©pertoire de donn√©es de l'application</li>
    </ul>

    <h2 id="stm32-ide">Int√©gration IDE STM32</h2>
    
    <h3>D√©tection STM32CubeIDE</h3>
    <p>L'application d√©tecte automatiquement l'installation STM32CubeIDE en utilisant :</p>
    <ol>
      <li>Variables d'environnement (<code>STM32CUBEIDE_BIN</code> ou <code>STM32CUBEIDE_HOME</code>)</li>
      <li>Registre Windows (cl√©s de d√©sinstallation)</li>
      <li>Chemins d'installation courants</li>
      <li>Variable d'environnement PATH</li>
    </ol>

    <h3>Ouverture de projets STM32</h3>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Cliquez sur le bouton <strong>"Ouvrir un projet STM32"</strong> (ou depuis le menu)
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Choisissez la source du projet :
      <ul>
        <li><strong>Projet local :</strong> Parcourir vers le r√©pertoire du projet</li>
        <li><strong>D√©p√¥t Git :</strong> Entrez l'URL Git et clonez</li>
      </ul>
    </div>
    <div class="step">
      <span class="step-number">√âtape 3 :</span> Si STM32CubeIDE n'est pas trouv√©, la page d'installation s'ouvre automatiquement
    </div>
    <div class="step">
      <span class="step-number">√âtape 4 :</span> L'application tente d'importer le projet dans l'espace de travail (si l'ex√©cutable console est disponible)
    </div>
    <div class="step">
      <span class="step-number">√âtape 5 :</span> STM32CubeIDE se lance avec le projet
    </div>

    <h3>Gestion de l'espace de travail</h3>
    <p>L'application g√®re les espaces de travail STM32CubeIDE :</p>
    <ul>
      <li>L'espace de travail est cr√©√© sur le m√™me lecteur que le projet (si possible)</li>
      <li>Espace de travail par d√©faut : <code>[Drive]:\AWG-Kumulus-Workspace</code></li>
      <li>Peut √™tre remplac√© par la variable d'environnement <code>CUBEIDE_WORKSPACE</code></li>
      <li>Les projets sont automatiquement import√©s si possible</li>
    </ul>

    <h3>Statut STM32CubeIDE</h3>
    <p>Vous pouvez v√©rifier le statut d'installation STM32CubeIDE :</p>
    <div class="step">
      <span class="step-number">√âtape 1 :</span> Ouvrir Param√®tres ‚Üí STM32 IDE
    </div>
    <div class="step">
      <span class="step-number">√âtape 2 :</span> Affichez le statut d'installation :
      <ul>
        <li>Install√©/Non install√©</li>
        <li>Chemin d'installation</li>
        <li>Source de d√©tection (env, registre, syst√®me de fichiers, chemin)</li>
      </ul>
    </div>

    <h2 id="system-info">Informations syst√®me</h2>
    
    <h3>Informations du pied de page</h3>
    <p>Le pied de page de la barre d'√©tat affiche :</p>
    <ul>
      <li><strong>Gauche :</strong> Nombre d'appareils (par ex. "Appareils : 3")</li>
      <li><strong>Centre :</strong> Date/heure avec fuseau horaire et localisation :
        <ul>
          <li>Format de date et heure localis√©</li>
          <li>D√©calage UTC</li>
          <li>Nom du fuseau horaire</li>
          <li>Localisation approximative (ville, pays)</li>
        </ul>
      </li>
      <li><strong>Droite :</strong> S√©lecteur de langue dropdown</li>
    </ul>

    <h3>D√©tection du fuseau horaire</h3>
    <p>Le fuseau horaire est d√©tect√© depuis les param√®tres syst√®me :</p>
    <ul>
      <li>Utilise les informations de fuseau horaire du syst√®me local</li>
      <li>Affiche les noms de fuseau horaire de style IANA lorsqu'ils sont disponibles</li>
      <li>Revient aux noms de style Windows ou g√©n√©riques</li>
    </ul>

    <h3>D√©tection de la localisation</h3>
    <p>La localisation approximative est d√©tect√©e en utilisant :</p>
    <ul>
      <li>G√©olocalisation IP publique (ipapi.co ou ip-api.com)</li>
      <li>Retourne la ville et le pays</li>
      <li>Revient √† "Inconnu" si hors ligne ou service indisponible</li>
      <li>Aucune donn√©e personnelle n'est stock√©e ; r√©sultats affich√©s uniquement dans l'interface</li>
    </ul>
    <div class="info">
      <strong>Confidentialit√© :</strong> La d√©tection de localisation utilise uniquement la g√©olocalisation IP publique. Aucune information personnelle n'est transmise ou stock√©e.
    </div>

    <h2 id="config-reference">R√©f√©rence de configuration</h2>
    
    <h3>Emplacement du fichier de configuration</h3>
    <p>La configuration principale est stock√©e dans <code>config.json</code> :</p>
    <ul>
      <li><strong>Windows:</strong> <code>%APPDATA%\AWG-Kumulus\config.json</code></li>
      <li><strong>Linux:</strong> <code>~/.local/share/awg-kumulus/config.json</code></li>
      <li><strong>macOS:</strong> <code>~/Library/Application Support/AWG-Kumulus/config.json</code></li>
    </ul>

    <h3>Structure de configuration</h3>
    <div class="config-example">
{
  "version": "1.0.0",
  "smtp": {
    "host": "smtp.gmail.com",
    "port": 587,
    "tls": true,
    "username": "your.email@gmail.com",
    "password": ""
  },
  "recipients": [
    "recipient1@example.com",
    "recipient2@example.com"
  ],
  "machine_types": {
    "Amphore": {
      "prefix": "AMP-",
      "length": 12
    },
    "BOKs": {
      "prefix": "BOK-",
      "length": 10
    },
    "WaterDispenser": {
      "prefix": "WD-",
      "length": 14
    }
  },
  "machine_type": "Amphore",
  "operator": {
    "name": "John Doe",
    "email": "john.doe@example.com"
  },
  "onedrive": {
    "enabled": false,
    "folder_path": "",
    "user_folder": "",
    "sync_enabled": true,
    "auto_create_folders": true
  }
}
    </div>

    <h3>Variables d'environnement</h3>
    <p>Vous pouvez remplacer certains param√®tres en utilisant des variables d'environnement :</p>
    <table>
      <tr>
        <th>Variable</th>
        <th>Objectif</th>
      </tr>
      <tr>
        <td><code>STM32CUBEIDE_BIN</code></td>
        <td>Chemin vers l'ex√©cutable STM32CubeIDE</td>
      </tr>
      <tr>
        <td><code>STM32CUBEIDE_HOME</code></td>
        <td>R√©pertoire d'installation STM32CubeIDE</td>
      </tr>
      <tr>
        <td><code>CUBEIDE_WORKSPACE</code></td>
        <td>Chemin de l'espace de travail STM32CubeIDE</td>
      </tr>
    </table>

    <h2 id="troubleshooting">D√©pannage</h2>
    
    <h3>Probl√®mes de d√©tection d'appareils</h3>
    <div class="warning">
      <strong>Probl√®me :</strong> Aucun appareil d√©tect√©
    </div>
    <p><strong>Solutions :</strong></p>
    <ol>
      <li>V√©rifiez que le c√¢ble USB est correctement connect√©</li>
      <li>V√©rifiez que l'appareil est allum√©</li>
      <li>Assurez-vous que les pilotes appropri√©s sont install√©s :
        <ul>
          <li>STM32 : Pilotes STM32 Virtual COM Port</li>
          <li>ESP32/ESP8266 : Pilotes CP210x ou CH340</li>
          <li>Arduino : Pilotes Arduino</li>
        </ul>
      </li>
      <li>Sur Linux, ajoutez l'utilisateur au groupe dialout : <code>sudo usermod -a -G dialout $USER</code></li>
      <li>Essayez de cliquer sur "Actualiser les appareils" manuellement</li>
      <li>V√©rifiez le Gestionnaire de p√©riph√©riques (Windows) ou <code>lsusb</code> (Linux) pour v√©rifier que l'appareil est reconnu par le syst√®me d'exploitation</li>
    </ol>

    <h3>Probl√®mes de flashage du firmware</h3>
    <div class="warning">
      <strong>Probl√®me :</strong> Le flashage du firmware √©choue
    </div>
    <p><strong>Solutions :</strong></p>
    <ol>
      <li>Assurez-vous que l'appareil est en mode bootloader (si n√©cessaire) :
        <ul>
          <li>ESP32/ESP8266 : Maintenez le bouton BOOT tout en appuyant sur RESET</li>
          <li>STM32 : Entrez en mode DFU (varie selon la carte)</li>
        </ul>
      </li>
      <li>V√©rifiez que le format du fichier firmware est correct (.bin ou .elf)</li>
      <li>V√©rifiez que le firmware est compatible avec le type de carte de l'appareil</li>
      <li>Essayez un autre port USB</li>
      <li>V√©rifiez que les outils auxiliaires sont install√©s (v√©rifiez les journaux)</li>
      <li>V√©rifiez que l'appareil n'est pas utilis√© par une autre application</li>
      <li>Consultez les journaux pour des messages d'erreur sp√©cifiques</li>
    </ol>

    <h3>Probl√®mes d'envoi d'e-mail</h3>
    <div class="warning">
      <strong>Probl√®me :</strong> L'e-mail ne s'envoie pas
    </div>
    <p><strong>Solutions :</strong></p>
    <ol>
      <li>V√©rifiez que les param√®tres SMTP sont corrects :
        <ul>
          <li>L'h√¥te et le port correspondent √† votre fournisseur de messagerie</li>
          <li>Les param√®tres TLS/SSL sont corrects</li>
        </ul>
      </li>
      <li>V√©rifiez que les identifiants sont stock√©s dans le trousseau :
        <ul>
          <li>Windows : Gestionnaire d'identifiants</li>
          <li>macOS : Trousseau d'acc√®s</li>
          <li>Linux : Secret Service</li>
        </ul>
      </li>
      <li>Pour Gmail, utilisez un mot de passe d'application (pas votre mot de passe habituel)</li>
      <li>V√©rifiez que la connexion r√©seau est active (les e-mails seront mis en file d'attente si hors ligne)</li>
      <li>V√©rifiez que les param√®tres du pare-feu ne bloquent pas le SMTP</li>
      <li>Consultez les journaux pour des messages d'erreur sp√©cifiques</li>
    </ol>

    <h3>Probl√®mes d'int√©gration OneDrive</h3>
    <div class="warning">
      <strong>Probl√®me :</strong> La synchronisation OneDrive ne fonctionne pas
    </div>
    <p><strong>Solutions :</strong></p>
    <ol>
      <li>V√©rifiez que le chemin du dossier OneDrive est correct et accessible</li>
      <li>V√©rifiez que vous avez les permissions d'√©criture sur le dossier</li>
      <li>Assurez-vous que OneDrive est en cours d'ex√©cution et synchronis√©</li>
      <li>Testez la connexion en utilisant le bouton "Tester la connexion" dans les param√®tres</li>
      <li>V√©rifiez que le nom du dossier utilisateur est d√©fini correctement</li>
      <li>V√©rifiez que la cr√©ation automatique de dossiers est activ√©e si n√©cessaire</li>
    </ol>

    <h3>Probl√®mes STM32CubeIDE</h3>
    <div class="warning">
      <strong>Probl√®me :</strong> STM32CubeIDE non trouv√©
    </div>
    <p><strong>Solutions :</strong></p>
    <ol>
      <li>Installez STM32CubeIDE depuis le site web STMicroelectronics</li>
      <li>D√©finissez la variable d'environnement <code>STM32CUBEIDE_BIN</code> vers le chemin de l'ex√©cutable</li>
      <li>Ou d√©finissez <code>STM32CUBEIDE_HOME</code> vers le r√©pertoire d'installation</li>
      <li>V√©rifiez l'installation en ex√©cutant STM32CubeIDE manuellement</li>
      <li>V√©rifiez le Registre Windows si sous Windows (pour la d√©tection automatique)</li>
    </ol>

    <h3>Probl√®mes de mise √† jour de l'application</h3>
    <div class="warning">
      <strong>Probl√®me :</strong> Le t√©l√©chargement de la mise √† jour √©choue ou l'installateur ne d√©marre pas
    </div>
    <p><strong>Solutions :</strong></p>
    <ol>
      <li>V√©rifiez votre connexion Internet</li>
      <li>Si le t√©l√©chargement √©choue, essayez de cliquer √† nouveau sur "Installer la mise √† jour"</li>
      <li>Si l'installateur ne se lance pas, v√©rifiez votre dossier "T√©l√©chargements" et lancez l'installateur manuellement</li>
      <li>Assurez-vous d'avoir suffisamment d'espace disque</li>
      <li>Si les probl√®mes persistent, t√©l√©chargez la derni√®re version directement depuis GitHub</li>
    </ol>

    <h3>Plantages de l'application</h3>
    <div class="warning">
      <strong>Probl√®me :</strong> L'application plante ou se fige
    </div>
    <p><strong>Solutions :</strong></p>
    <ol>
      <li>V√©rifiez les fichiers journaux dans le r√©pertoire de donn√©es de l'application pour les messages d'erreur</li>
      <li>V√©rifiez que tous les packages Python requis sont install√©s</li>
      <li>Essayez de supprimer le fichier de configuration et de red√©marrer (sauvegardez d'abord !)</li>
      <li>V√©rifiez l'espace disque disponible</li>
      <li>V√©rifiez que les exigences syst√®me sont respect√©es</li>
      <li>Contactez le support avec les fichiers journaux</li>
    </ol>

    <h3>Fichiers journaux</h3>
    <p>Les fichiers journaux sont stock√©s dans :</p>
    <ul>
      <li><strong>Windows :</strong> <code>%APPDATA%\AWG-Kumulus\logs\</code></li>
      <li><strong>Linux :</strong> <code>~/.local/share/awg-kumulus/logs/</code></li>
      <li><strong>macOS :</strong> <code>~/Library/Application Support/AWG-Kumulus/logs/</code></li>
    </ul>
    <p>Les fichiers journaux sont nomm√©s avec des horodatages et peuvent √™tre joints lors de la prise de contact avec le support.</p>

    <h3>Erreurs de chargement DLL</h3>
    <ul>
      <li>Si vous voyez "Failed to load Python DLL", assurez-vous d'utiliser l'ex√©cutable √† fichier unique (<code>.exe</code>) de la version, et non une construction bas√©e sur un dossier.</li>
    </ul>

    <h2 id="advanced">Fonctionnalit√©s avanc√©es</h2>
    
    <h3>Score de sant√© de l'appareil</h3>
    <p>L'application calcule les scores de sant√© de l'appareil (0-100) bas√©s sur :</p>
    <ul>
      <li>Stabilit√© de la connexion (r√©duit le score pour les d√©connexions fr√©quentes)</li>
      <li>Disponibilit√© de la version du firmware (+5 points)</li>
      <li>Exhaustivit√© des informations mat√©rielles :
        <ul>
          <li>UID disponible (+5 points)</li>
          <li>ID de puce disponible (+5 points)</li>
          <li>Adresse MAC disponible (+5 points)</li>
        </ul>
      </li>
      <li>Information fabricant (+5 points)</li>
    </ul>

    <h3>Gestion de la base de donn√©es du firmware</h3>
    <p>Fonctionnalit√©s avanc√©es de gestion du firmware :</p>
    <ul>
      <li>Afficher tous les firmware dans la base de donn√©es</li>
      <li>Supprimer les entr√©es de firmware</li>
      <li>Valider l'int√©grit√© du firmware</li>
      <li>Afficher les m√©tadonn√©es du firmware</li>
      <li>V√©rifier les mises √† jour disponibles</li>
    </ul>

    <h3>Statistiques des appareils</h3>
    <p>Voir les statistiques des appareils depuis Param√®tres :</p>
    <ul>
      <li>Total des appareils dans l'historique</li>
      <li>Appareils actuellement connect√©s</li>
      <li>Appareils d√©connect√©s</li>
      <li>Distribution des types de cartes</li>
      <li>Distribution des fabricants</li>
      <li>Nombre de mod√®les</li>
    </ul>

    <h3>Gestion des sauvegardes</h3>
    <p>G√©rez les sauvegardes du firmware :</p>
    <ul>
      <li>Voir toutes les sauvegardes pour un appareil</li>
      <li>Supprimez les anciennes sauvegardes</li>
      <li>Nettoyage automatique des sauvegardes de plus de 30 jours (configurable)</li>
      <li>Sauvegarde avant les mises √† jour du firmware (automatique)</li>
    </ul>

    <h3>Op√©rations par lot</h3>
    <p>Effectuer des op√©rations sur plusieurs appareils simultan√©ment :</p>
    <ul>
      <li>S√©lectionnez plusieurs appareils (Ctrl+Clic ou Maj+Clic)</li>
      <li>Mettre √† jour les informations de l'appareil pour tous les s√©lectionn√©s</li>
      <li>Ajouter/retirer des √©tiquettes en lot</li>
      <li>D√©finir des noms personnalis√©s pour plusieurs appareils</li>
      <li>Ajouter des notes √† plusieurs appareils</li>
    </ul>

    <h3>Configuration personnalis√©e</h3>
    <p>Les utilisateurs avanc√©s peuvent personnaliser :</p>
    <ul>
      <li>Modifiez <code>config.json</code> directement pour les param√®tres avanc√©s</li>
      <li>Modifiez <code>machineTypes.json</code> pour les d√©finitions de types de machines</li>
      <li>Cr√©ez des th√®mes personnalis√©s avec un contr√¥le total des couleurs</li>
      <li>Utilisez des variables d'environnement pour remplacer les chemins</li>
    </ul>

    <div class="callout" style="margin-top: 48px;">
      <strong>Fin du manuel</strong><br>
      Pour une assistance suppl√©mentaire, utilisez la fonctionnalit√© Contacter le support dans le menu Aide. Incluez les fichiers journaux pour un d√©pannage plus rapide.
    </div>

    <p class="muted" style="margin-top: 32px; text-align: center;">
      AWG Kumulus Device Manager v1.0.0<br>
      Derni√®re mise √† jour : 2024
    </p>
  </body>
</html>
